"use strict";(self.webpackChunklibrary_demo=self.webpackChunklibrary_demo||[]).push([[9466],{4243:(F,h,o)=>{o.d(h,{dT:()=>m.d});var m=o(3732)},9466:(F,h,o)=>{o.r(h),o.d(h,{FormDatepickerFieldDemoComponent:()=>oe});var m=o(6814),r=o(95),c=o(8584),g=o(6156),v=o(640),f=o(2816);function w(n,l){(0,f.Z)(2,arguments);var t=(0,g.Z)(l);return(0,v.Z)(n,36e5*t)}var O=o(4243),e=o(5879),D=o(2200);function A(n,l){(0,f.Z)(2,arguments);var t=(0,g.Z)(l);return(0,v.Z)(n,6e4*t)}var I=o(581);function N(n){return(0,f.Z)(1,arguments),(0,I.Z)(n).getTime()}var C=o(2168),b=o(8645),p=o(9773),x=o(8180),V=o(5177),T=o(7059),S=o(5132);let k=(()=>{class n{constructor(t){this.data=t,this.itemClick=new e.vpe,this.date=new Date,this.selectableDates=[],this.date=t.selectedDate,t.selectableDates&&(this.selectableDates=t.selectableDates)}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(T.Mw))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["dd-form-field-datepicker"]],outputs:{itemClick:"itemClick"},decls:2,vars:4,consts:[[1,"dd-form-field-datepicker","dd-white-bg","p-spacer-mini","elevation-04","border-radius-6","w-344"],[3,"options","selectableDates","date","ngModel","ngModelChange"]],template:function(s,i){1&s&&(e.TgZ(0,"div",0)(1,"dd-datepicker",1),e.NdJ("ngModelChange",function(d){return i.date=d})("ngModelChange",function(d){return i.itemClick.emit(d)}),e.qZA()()),2&s&&(e.xp6(1),e.Q6J("options",i.data.options)("selectableDates",i.selectableDates)("date",i.date)("ngModel",i.date))},dependencies:[r.JJ,S.Q,r.On]})}return n})();var M=o(8008),J=o(4729),j=o(325),U=o(2434);const y=function(n){return{"dd-primary-500-fg":n}};function Q(n,l){if(1&n&&(e.TgZ(0,"label",11)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.Tol(t.backgroundColor),e.Q6J("ngClass",e.VKq(5,y,"dd-white"===t.backgroundColor)),e.xp6(2),e.Oqu(t.dateLabel)}}function E(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",12),e._uU(2),e.ALo(3,"dddate"),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,1,t.selectedDate)," ")}}function Y(n,l){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.selectDateText," ")}}function G(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"dd-select-list",14),e.NdJ("itemClick",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectItemClick(i))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();let s,i;e.xp6(2),e.Q6J("searchEnabled",!0)("icon","dd-icon-time")("label",null!==(s=t.timeLabel)&&void 0!==s?s:t.timeLabel)("selectText",null!==(i=t.selectedTimeString)&&void 0!==i?i:"")("items",t.selectableTimes)}}function H(n,l){if(1&n&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.Q6J("id","form-field-error-{{label}}"),e.xp6(1),e.hij(" ",t.errorMessage," ")}}const K=function(n,l,t){return{open:n,"w-50-p":l,"w-100-p":t}};let Z=(()=>{class n{constructor(t,s,i){this.overlayService=t,this.cdr=s,this.showTimePicker=!0,this.min=0,this.max=24,this.interval=30,this.options={...D.vC,allSelectable:!0},this.submitted=!1,this.selectDateText="Select Date",this.backgroundColor="dd-white",this.itemClick=new e.vpe,this.value=new r.NI,this.selectableTimes=[],this.destroySubject=new b.x,this.genericError="Invalid field",this._unsubscribeAllSubject=new b.x,this.objectKeys=Object.keys,this._onChange=()=>{},this.onTouched=()=>{},i.getDateLocale$().pipe((0,p.R)(this._unsubscribeAllSubject)).subscribe(a=>{this.locale=a})}get errorMessage(){if(this.errors){const t=this.objectKeys(this.errors);if(this.errorMessages){const s=this.objectKeys(this.errorMessages).find(i=>t.includes(i));if(s&&this.errorMessages[s])return this.errorMessages[s]}return this.genericError}}ngOnInit(){const t=new Date,s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),this.min,0,0),i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),this.max,0,0);for(let a=s;a<=i;){if(this.locale?.code){const d=a.toLocaleTimeString([this.locale.code],{hour:"2-digit",minute:"2-digit"});this.selectableTimes.push({id:N(a),text:d,value:[a.getHours(),a.getMinutes()]})}a=A(a,this.interval)}}ngAfterViewInit(){setTimeout(()=>{if(this.selectableTimes?.length&&this.selectedDate){const t=[this.selectedDate?.getHours(),this.selectedDate?.getMinutes()],s=this.selectableTimes.map(a=>{if(a.value){const d=(new Date).setUTCHours(t[0],t[1]),u=(new Date).setUTCHours(a.value[0],a.value[1]);return Math.abs(d-u)}}),i=s.indexOf(Math.min(...s));this.selectedTimeValue=this.selectableTimes[i].value,this.selectedTimeString=this.selectableTimes[i].text,this.selectedTimeValue&&this.setDateValue(this.selectedTimeValue)}else this.selectableTimes[0]&&this.selectItemClick(this.selectableTimes[0])},0)}setDateValue(t){if(this.selectedDate){const s=this.selectedDate?.getFullYear(),i=this.selectedDate?.getMonth(),a=this.selectedDate?.getDate();this.selectedDate=new Date(s,i,a,t[0],t[1]),this.value.setValue(this.selectedDate)}}selectItemClick(t){this.selectedTimeString=t.text,this.selectedTimeValue=t.value,t.value&&this.setDateValue(t.value)}ngOnChanges(t){if(t.selectedDate&&!t.selectedDate.firstChange&&this.selectedTimeValue){const s=t.selectedDate.currentValue;this.selectableTimes[0].value&&(0,C.Z)(t.selectedDate.previousValue)!==(0,C.Z)(s)&&this.setDateValue(this.selectedTimeValue)}}onAnchorClick(t){if(this.overlayModel)return void this.closeMenu();const i=this.overlayService.getConnectedToConfig(t,".dd-datepicker-field",{options:this.options,selectedDate:this.selectedDate||new Date});i.overlayConfig&&(i.closeOnOutsidePointerEvents=!0),this.overlayModel=this.overlayService.open(k,i),this.overlayModel.component.itemClick.pipe((0,x.q)(1),(0,p.R)(this._unsubscribeAllSubject)).subscribe(a=>{this.selectedDate=a,this.closeMenu()}),this.overlayModel.overlayRef.detachments().pipe((0,V.g)(1),(0,x.q)(1),(0,p.R)(this._unsubscribeAllSubject)).subscribe(()=>{this.closeMenu()})}closeMenu(){this.value.setValue(this.selectedDate),this.overlayModel?.close(),delete this.overlayModel}markAsTouched(){this.onTouched(),this.value.markAsTouched(),this.cdr.detectChanges()}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}writeValue(t){t&&this.value.setValue(t)}registerOnChange(t){this.value.valueChanges.pipe((0,p.R)(this.destroySubject)).subscribe(t)}registerOnTouched(t){this.onTouched=t}registerOnValidatorChange(t){this._onChange=t}validate(){return!this.value.valid&&this.errors?this.errors:null}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(T.F0),e.Y36(e.sBO),e.Y36(M._k))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["dd-form-datepicker-field"]],inputs:{dateLabel:"dateLabel",showTimePicker:"showTimePicker",timeLabel:"timeLabel",selectedDate:"selectedDate",min:"min",max:"max",interval:"interval",options:"options",errors:"errors",errorMessages:"errorMessages",submitted:"submitted",selectDateText:"selectDateText",backgroundColor:"backgroundColor"},outputs:{itemClick:"itemClick"},features:[e._Bn([{provide:r.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0},{provide:r.Cf,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.TTD],decls:12,vars:17,consts:[[1,"form-field-container"],["fxLayout","row","fxLayout-lt-sm","column","fxLayoutAlign","space-between center","fxFlex","100","fxLayoutGap-gt-sm","16px"],["fxLayoutAlign","start center",1,"dd-select-anchor","dd-primary-200-border","border","border-radius-6","cursor-pointer",3,"ngClass","click"],["selectAnchor",""],[3,"class","ngClass",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],[4,"ngIf","ngIfElse"],["noInitialDateTemplate",""],[3,"ngClass","icon"],[4,"ngIf"],["class","error-text text-body-2 dd-danger-fg",3,"id",4,"ngIf"],[3,"ngClass"],[1,"mr-spacer-xmini"],[1,"time-picker"],[3,"searchEnabled","icon","label","selectText","items","itemClick"],[1,"error-text","text-body-2","dd-danger-fg",3,"id"]],template:function(s,i){if(1&s){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2,3),e.NdJ("click",function(){e.CHM(a);const u=e.MAs(3);return e.KtG(i.onAnchorClick(u))}),e.YNc(4,Q,3,7,"label",4),e.TgZ(5,"div",5),e.YNc(6,E,4,3,"ng-container",6),e.YNc(7,Y,2,1,"ng-template",null,7,e.W1O),e._UZ(9,"dd-icon",8),e.qZA()(),e.YNc(10,G,3,5,"ng-container",9),e.qZA(),e.YNc(11,H,2,2,"div",10),e.qZA()}if(2&s){const a=e.MAs(8);e.xp6(2),e.Q6J("ngClass",e.kEZ(11,K,!!i.overlayModel,i.showTimePicker,!i.showTimePicker)),e.xp6(2),e.Q6J("ngIf",i.dateLabel),e.xp6(1),e.Gre("",i.backgroundColor," w-100-p ml-spacer-mini mr-spacer-xmini subtitle"),e.xp6(1),e.Q6J("ngIf",i.selectedDate)("ngIfElse",a),e.xp6(3),e.Q6J("ngClass",e.VKq(15,y,"dd-white"===i.backgroundColor))("icon","dd-icon-calendar"),e.xp6(1),e.Q6J("ngIf",i.showTimePicker),e.xp6(1),e.Q6J("ngIf",i.errors&&i.errorMessage)}},dependencies:[m.mk,m.O5,J.o,j.g,U.u],styles:["[_nghost-%COMP%]{width:100%;min-width:100%;max-width:100%}.form-field-container[_ngcontent-%COMP%]{min-height:70px}.form-field-container[_ngcontent-%COMP%]   .time-picker[_ngcontent-%COMP%]{width:50%;min-width:50%;max-width:50%}@media screen and (max-width: 599px){.form-field-container[_ngcontent-%COMP%]   .time-picker[_ngcontent-%COMP%]{width:100%;min-width:100%;max-width:100%}}.form-field-container[_ngcontent-%COMP%]   .dd-select-anchor[_ngcontent-%COMP%]{position:relative}.jis-theme[_nghost-%COMP%]   .form-field-container[_ngcontent-%COMP%]   .dd-select-anchor[_ngcontent-%COMP%], .jis-theme   [_nghost-%COMP%]   .form-field-container[_ngcontent-%COMP%]   .dd-select-anchor[_ngcontent-%COMP%]{height:48px!important}@media screen and (max-width: 599px){.form-field-container[_ngcontent-%COMP%]   .dd-select-anchor[_ngcontent-%COMP%]{width:100%;min-width:100%;max-width:100%}}.form-field-container[_ngcontent-%COMP%]   .dd-select-anchor[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:9px;z-index:2;font-size:12px;line-height:11px;background-color:inherit;padding:0 4px;height:6px;top:-1px;display:flex;align-items:flex-end}"]})}return n})();var R=o(4177),z=o(6905),B=o(2177),X=o(1207),W=o(9347);let $=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[m.ez,r.UX,X.q,B.gP,D.ZU,z.Q,W.An,M.qE,r.u5,R.hJ]})}return n})();var q=o(870),_=o(3350),ee=o(2733),te=o(9635);const ie=function(){return{max:!0}},ne=function(){return{max:"Max error."}},se=function(){return{required:"Required error."}};let oe=(()=>{class n extends q.Jo{constructor(){super("FormDatepickerFieldComponent");const t=new Date;this.daysWithSlots=[t,(0,c.Z)(t,1),w((0,c.Z)(t,2),5),(0,c.Z)(t,3),(0,c.Z)(t,4),(0,c.Z)(t,5),(0,c.Z)(t,6),(0,c.Z)(t,7),(0,c.Z)(t,8),(0,c.Z)(t,9),(0,c.Z)(t,10)],this.selectedDate=this.daysWithSlots[2],this.selectedDateNoInitialValue=void 0,this.form=new r.cw({datePicker:new r.NI(this.selectedDate,{nonNullable:!0,validators:[r.kI.required]}),datePickerNoInitialValue:new r.NI(this.selectedDateNoInitialValue,{nonNullable:!0,validators:[r.kI.required]})}),this.codeDemos["Form datepicker"]='\n<dd-form-datepicker-field [formControlName]="\'datePicker\'"\n    [selectedDate]="form.controls[\'datePicker\'].value"\n    [errors]="form.controls[\'datePicker\'].errors"\n    [min]="9"\n    [max]="16"\n    [dateLabel]="\'Date\'"\n    [timeLabel]="\'From\'"\n    [submitted]="false">\n</dd-form-datepicker-field>'}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-datepicker-field-demo"]],standalone:!0,features:[e.qOj,e.jDz],decls:18,vars:42,consts:[[3,"documentationData","codeDemos"],[1,"w-600","flex-column","g-spacer-mini",3,"formGroup"],[3,"formControlName","selectedDate","errors","min","max","dateLabel","timeLabel","submitted"],[3,"formControlName","selectedDate","showTimePicker","errors","errorMessages","min","max","dateLabel","timeLabel","submitted"],[1,"mb-spacer-large"]],template:function(s,i){1&s&&(e.TgZ(0,"dd-card")(1,"dd-card-row")(2,"app-component-documentation",0),e.ALo(3,"async"),e.TgZ(4,"div",1),e._UZ(5,"dd-form-datepicker-field",2)(6,"dd-form-datepicker-field",3),e.TgZ(7,"div",4)(8,"strong"),e._uU(9,"Selected date:"),e.qZA(),e._uU(10),e.ALo(11,"json"),e.qZA(),e._UZ(12,"dd-form-datepicker-field",3),e.TgZ(13,"div")(14,"strong"),e._uU(15,"Selected date (no initial value):"),e.qZA(),e._uU(16),e.ALo(17,"json"),e.qZA()()()()()),2&s&&(e.xp6(2),e.Q6J("documentationData",e.lcZ(3,33,i.documentationData$))("codeDemos",i.codeDemos),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("formControlName","datePicker")("selectedDate",i.form.controls.datePicker.value)("errors",i.form.controls.datePicker.errors)("min",9)("max",16)("dateLabel","Date")("timeLabel","From")("submitted",!1),e.xp6(1),e.Q6J("formControlName","datePicker")("selectedDate",i.form.controls.datePicker.value)("showTimePicker",!1)("errors",e.DdM(39,ie))("errorMessages",e.DdM(40,ne))("min",9)("max",16)("dateLabel","Date")("timeLabel","From")("submitted",!0),e.xp6(4),e.hij(" ",e.lcZ(11,35,i.form.controls.datePicker.value)," "),e.xp6(2),e.Q6J("formControlName","datePickerNoInitialValue")("selectedDate",i.form.controls.datePickerNoInitialValue.value)("showTimePicker",!0)("errors",i.form.controls.datePickerNoInitialValue.errors)("errorMessages",e.DdM(41,se))("min",9)("max",16)("dateLabel","Date")("timeLabel","From")("submitted",!0),e.xp6(4),e.hij(" ",e.lcZ(17,37,i.form.controls.datePickerNoInitialValue.value)," "))},dependencies:[m.ez,m.Ov,m.Ts,r.u5,r.JJ,r.JL,_.Z,O.dT,ee.A,te.e,$,Z,r.UX,r.sg,r.u]})}return n})()}}]);