"use strict";(self.webpackChunklibrary_demo=self.webpackChunklibrary_demo||[]).push([[4914],{4243:(_,p,e)=>{e.d(p,{dT:()=>h.d});var h=e(3732)},4914:(_,p,e)=>{e.r(p),e.d(p,{MainComponent:()=>st});var h=e(6814),m=e(4408),x=e(9146),g=e(9347),L=e(2096),D=e(7328),S=e(4664),f=e(7398),j=e(7081),u=e(2181),l=e(9773),a=e(8180),o=e(4177),C=e(2177),E=e(6395),w=e(8501),N=e(4495),t=e(5879),T=e(7059),b=e(5337);const O=function(s){return{"dd-primary-100":s}};function U(s,v){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"a",6),t.NdJ("mouseover",function(){t.CHM(n);const r=t.oxw().index,c=t.oxw(3);return t.KtG(c.hotKeyIndex=r)}),t.TgZ(2,"div",7)(3,"div",8),t._uU(4),t.qZA()()(),t.BQk()}if(2&s){const n=t.oxw(),i=n.$implicit,r=n.index,c=t.oxw(3);t.xp6(1),t.Q6J("routerLink",i.url)("ngClass",t.VKq(3,O,c.hotKeyIndex===r)),t.xp6(3),t.Oqu(i.title)}}function K(s,v){if(1&s){const n=t.EpF();t.TgZ(0,"div",9),t.NdJ("mouseover",function(){t.CHM(n);const r=t.oxw().index,c=t.oxw(3);return t.KtG(c.hotKeyIndex=r)}),t.TgZ(1,"div",7)(2,"div",8),t._uU(3),t.qZA()()()}if(2&s){const n=t.oxw(),i=n.index,r=n.$implicit,c=t.oxw(3);t.Q6J("ngClass",t.VKq(2,O,c.hotKeyIndex===i)),t.xp6(3),t.Oqu(r.title)}}function Z(s,v){if(1&s&&(t.ynx(0),t.YNc(1,U,5,5,"ng-container",4),t.YNc(2,K,4,4,"ng-template",null,5,t.W1O),t.BQk()),2&s){const n=v.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.url)("ngIfElse",i)}}function F(s,v){if(1&s&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,Z,4,2,"ng-container",3),t.ALo(4,"async"),t.qZA()(),t.BQk()),2&s){const n=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,2,n.data.foundItems$))("ngForTrackBy",n.trackSearchItem)}}function B(s,v){if(1&s&&(t.ynx(0),t.YNc(1,F,5,4,"ng-container",0),t.BQk()),2&s){const n=v.ngIf;t.xp6(1),t.Q6J("ngIf",n.length)}}let J=(()=>{class s extends N.Q{constructor(n,i,r){super(),this.hostClass="h-100-p w-100-p mt-spacer-xmini search-dialog-component",this.data=(0,t.f3M)(T.Mw),this.hotKeyIndex=0,this.unlisten=n.listen({[b.TX.arrowdown]:c=>{c.preventDefault();const d=r.nativeElement.querySelectorAll(".search-dialog-item");d.length&&(this.hotKeyIndex++,this.hotKeyIndex=Math.min(d.length-1,this.hotKeyIndex),d[this.hotKeyIndex]?.scrollIntoView({behavior:"smooth",block:"nearest"}))},[b.TX.arrowup]:c=>{c.preventDefault();const d=r.nativeElement.querySelectorAll(".search-dialog-item");d.length&&(this.hotKeyIndex--,this.hotKeyIndex=Math.max(0,this.hotKeyIndex),d[this.hotKeyIndex]?.scrollIntoView({behavior:"smooth",block:"nearest"}))},[b.TX.enter]:c=>{c.preventDefault(),this.data.foundItems$.pipe((0,a.q)(1),(0,l.R)(this._unsubscribeAllSubject)).subscribe(d=>{if(0===d.length)return;const y=d[this.hotKeyIndex]?.url;y&&i.navigateByUrl(y)})}},{priority:100,emitInputs:!0})}ngOnDestroy(){this.unlisten()}trackSearchItem(n,i){return i.title+i.url}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(b.tm),t.Y36(m.F0),t.Y36(t.SBq))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-search-dialog"]],hostVars:2,hostBindings:function(i,r){2&i&&t.Tol(r.hostClass)},standalone:!0,features:[t.qOj,t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"dd-white","max-h-100-p","w-100-p","elevation-04","border-radius-6","scrollbar-content","hide-scrollbar"],[1,"flex-column","gap-spacer-mini"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf","ngIfElse"],["notALinkElseTemplate",""],["fxLayoutAlign","start center",1,"search-dialog-item","hover-link","dd-white","border-bottom","p-spacer-xmini",3,"routerLink","ngClass","mouseover"],[1,"mx-spacer-mini"],[1,"subtitle"],["fxLayoutAlign","start center",1,"search-dialog-item","dd-white","border-bottom","p-spacer-xmini",3,"ngClass","mouseover"]],template:function(i,r){1&i&&(t.YNc(0,B,2,1,"ng-container",0),t.ALo(1,"async")),2&i&&t.Q6J("ngIf",t.lcZ(1,1,r.data.foundItems$))},dependencies:[h.ez,h.mk,h.sg,h.O5,h.Ov,T.U8,m.Bz,m.rH],encapsulation:2})}return s})();var Q=e(4243),$=e(9045),Y=e(7662),P=e(5309),R=e(6013),H=e(4499),W=e(2733),z=e(9635);let k=(()=>{class s{constructor(){this.closeOverlay=new t.vpe,this.data=(0,t.f3M)(T.Mw)}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-user-details-dialog"]],outputs:{closeOverlay:"closeOverlay"},standalone:!0,features:[t.jDz],decls:12,vars:8,consts:[[3,"viewState"],[3,"heading","closeOverlay"],[1,"w-100-p","py-spacer-basic","flex-row","flex-x-end"],[3,"text","color","buttonClick"],[3,"text","buttonClick"]],template:function(i,r){1&i&&(t.TgZ(0,"dd-dialog-wrapper",0)(1,"dd-dialog-header",1),t.NdJ("closeOverlay",function(){return r.closeOverlay.emit()}),t.qZA(),t.TgZ(2,"dd-dialog-body")(3,"div",2)(4,"dd-button",3),t.NdJ("buttonClick",function(){return r.data.logout()}),t.qZA()(),t.TgZ(5,"dd-card")(6,"dd-card-row"),t._uU(7),t.qZA(),t.TgZ(8,"dd-card-row"),t._uU(9),t.qZA()()(),t.TgZ(10,"dd-dialog-footer")(11,"dd-button",4),t.NdJ("buttonClick",function(){return r.closeOverlay.emit()}),t.qZA()()()),2&i&&(t.Q6J("viewState","in-right"),t.xp6(1),t.Q6J("heading","User details"),t.xp6(3),t.Q6J("text","Logout")("color","red"),t.xp6(3),t.AsE(" ",r.data.firstName," ",r.data.lastName," "),t.xp6(2),t.hij(" ",r.data.email," "),t.xp6(2),t.Q6J("text","Cancel"))},dependencies:[h.ez,T.U8,$.g,Y.H,P.A,R.k,o.hJ,H.r,Q.dT,W.A,z.e],encapsulation:2})}return s})();var G=e(2542),X=e(481),V=e(7705),q=e(5334),tt=e(4449),et=e(4371),nt=e(325),ot=e(2391);function it(s,v){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"dd-select-list",6),t.NdJ("itemClick",function(r){t.CHM(n);const c=t.oxw(2);return t.KtG(c.themeSelected(r))}),t.qZA()(),t._UZ(3,"dd-divider"),t.BQk()}if(2&s){const n=t.oxw(2);t.xp6(2),t.Q6J("label","Select theme")("selected",n.selectedTheme)("items",n.themeSelector)}}function at(s,v){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"dd-navigation",1),t.NdJ("markAsFavorite",function(r){t.CHM(n);const c=t.oxw();return t.KtG(c.markAsFavorite(r))}),t.TgZ(2,"div",2),t.YNc(3,it,4,3,"ng-container",0),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t._UZ(6,"router-outlet"),t.qZA()()(),t.BQk()}if(2&s){const n=t.oxw();t.xp6(1),t.Q6J("navigation",n.navigation)("favoriteNavigation",n.favoriteNavigation)("topbarConfiguration",n.topbarConfiguration),t.xp6(2),t.Q6J("ngIf",n.isDevelopment)}}let st=(()=>{class s extends N.Q{constructor(n,i,r,c,d,y,I,A){super(),this.document=n,this.appNavigationService=i,this.authService=r,this.overlayService=d,this.overlay=y,this.documentationService=I,this.router=A,this.topbarConfiguration={menuText:"MENU",logo:{url:"https://jis.fi/wp-content/themes/jis/dist/assets/images/jis-automation-logo-square.png",title:"x DIGITAL DELIGHTS"},search:{searchPlaceholder:"Search for something (ctrl + ,)...",searchEvent:(M,rt)=>{},hotkeyList:[{key:",",ctrlKey:!0},{key:"p",ctrlKey:!0}]},user:{firstName:"Mikko",lastName:"Malli",description:"mikko.malli@google.com",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTN3-b6hE_5K-l4bv_gBuFtF5zWoPEhSkLsuw&usqp=CAU",onClick:()=>{this.openUserDialog()}},additionalButtons:[{icon:"dd-icon-alert",onClick:()=>{console.log("Notifications clicked!")},badgeColor:"red",badgeText:"2",showOnMobile:!0}]},this.title="Digital Delights",this.isDevelopment=!w.N.production,this.isLoggedIn$=this.authService.isLoggedIn$,this.navigation=this.appNavigationService.get(),this.flatNavigation=this.appNavigationService.getNavigationItems(),this.themeSelector=[{value:"jis-theme",id:"jis-theme",text:"JIS"}],w.N.production||this.themeSelector.unshift({value:"power-theme",id:"power-theme",text:"Power"},{value:"kamux-theme",id:"kamux-theme",text:"Kamux"}),this.selectedTheme=this.themeSelector.find(M=>M.value&&n.body.classList.contains(M.value))?.value||"jis-theme",c.closeSplashScreen()}themeSelected(n){n.value&&(this.selectedTheme&&this.document.body.classList.remove(this.selectedTheme),this.selectedTheme=n.value,this.document.body.classList.add(this.selectedTheme))}markAsFavorite(n){this.favoriteNavigation??=[];const i=this.favoriteNavigation.find(r=>r.id===n.id);i?this.favoriteNavigation=this.favoriteNavigation.filter(r=>r!==i):this.favoriteNavigation.push({...n,hideFavorite$:(0,L.of)(!0)})}searchStuff(n,i){if(this.searchTermSubject||(this.searchTermSubject=new D.t),this.searchDialog?.overlayRef.hasAttached())this.searchTermSubject.next(n);else{this.searchTermSubject.complete(),delete this.searchTermSubject,this.searchTermSubject=new D.t,this.searchTermSubject.next(n);const r={foundItems$:this.searchTermSubject.pipe((0,S.w)(d=>d?this.documentationService.searchDocuments$(d):[]),(0,f.U)(d=>d.map(y=>{const I=this.flatNavigation.find(A=>A.title===y);return{title:I?.title??y,url:I?.url}})),(0,j.d)(1))},c=this.overlayService.getConnectedToConfig(i,".search-dialog-component",r);if(c.overlayConfig){const d=i.offsetWidth;c.overlayConfig.positionStrategy=this.overlay.position().global().centerHorizontally().top("48px"),c.overlayConfig.minWidth=d,c.overlayConfig.maxWidth=2*d,c.overlayConfig.maxHeight="320px",c.overlayConfig.width="100%",c.overlayConfig.height="100%",c.closeOnOutsidePointerEvents=!0}this.searchDialog=this.overlayService.open(J,c),this.router.events.pipe((0,u.h)(d=>d instanceof m.m2),(0,l.R)(this._unsubscribeAllSubject)).subscribe(()=>{this.searchDialog?.close()}),r.foundItems$.pipe((0,u.h)(d=>!d.length),(0,a.q)(1),(0,l.R)(this._unsubscribeAllSubject)).subscribe(()=>{this.searchDialog?.close()})}}openUserDialog(){if(this.userDetailsDialog?.overlayRef.hasAttached())return void this.userDetailsDialog.close();const i=this.overlayService.getDialogOverlayConfig("dialog-narrow",{firstName:this.topbarConfiguration.user?.firstName??"",lastName:this.topbarConfiguration.user?.lastName??"",email:this.topbarConfiguration.user?.description??"",logout:()=>{this.userDetailsDialog?.close(),this.authService.logout()}});this.userDetailsDialog=this.overlayService.open(k,i),this.userDetailsDialog.component.closeOverlay.pipe((0,a.q)(1),(0,l.R)(this._unsubscribeAllSubject)).subscribe(()=>{this.userDetailsDialog?.close()})}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(h.K0),t.Y36(G.I),t.Y36(X.e),t.Y36(V.h),t.Y36(T.F0),t.Y36(q.aV),t.Y36(tt.q),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-main"]],standalone:!0,features:[t.qOj,t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"navigation","favoriteNavigation","topbarConfiguration","markAsFavorite"],["sidebarHeaderSelector",""],[1,"w-100-p"],[1,"py-spacer-basic","px-spacer-mini","mx-auto","center-container"],[1,"pt-spacer-mini","px-spacer-mini"],[3,"label","selected","items","itemClick"]],template:function(i,r){1&i&&(t.YNc(0,at,7,4,"ng-container",0),t.ALo(1,"async")),2&i&&t.Q6J("ngIf",t.lcZ(1,1,r.isLoggedIn$))},dependencies:[h.ez,h.O5,h.Ov,x.AG,et.J,g.An,nt.g,E.E,ot.X,o.hJ,m.Bz,m.lC,C.gP],styles:[".center-container[_ngcontent-%COMP%]{max-width:1600px;width:100%}"]})}return s})()},4449:(_,p,e)=>{e.d(p,{q:()=>S,x:()=>D});var h=e(2572),m=e(7398),x=e(7081),g=e(5879),L=e(9862);const D="@digitaldelightsoy/design-library/";let S=(()=>{class f{constructor(u){this.documentationFiles=["./documentation-lib/documentation.json","./documentation-rte/documentation.json","./documentation-signature/documentation.json"],this.documentation$=(0,h.a)(this.documentationFiles.map(l=>u.get(l))).pipe((0,m.U)(l=>({components:[...l.flatMap(o=>o.components)],classes:[...l.flatMap(o=>o.classes)],directives:[...l.flatMap(o=>o.directives)],guards:[...l.flatMap(o=>o.guards)],injectables:[...l.flatMap(o=>o.injectables)],interceptors:[...l.flatMap(o=>o.interceptors)],interfaces:[...l.flatMap(o=>o.interfaces)],miscellaneous:{},modules:[...l.flatMap(o=>o.modules)],pipes:[...l.flatMap(o=>o.pipes)]})),(0,x.d)(1))}searchDocuments$(u){return this.documentation$.pipe((0,m.U)(l=>{const a=[...this.searchComponents(l.components,u),...this.searchServices(l.injectables,u),...this.searchPipes(l.pipes,u)];return[...new Set(a)]}))}getDocumentationByName$(u){return this.documentation$.pipe((0,m.U)(l=>l.components.find(a=>a.name===u)))}getPipeByName$(u){return this.documentation$.pipe((0,m.U)(l=>l.pipes.find(a=>a.name===u)))}getServiceByName$(u){return this.documentation$.pipe((0,m.U)(l=>l.injectables.find(a=>a.name===u)))}searchComponents(u,l){return l.split(" ").map(a=>u.filter(o=>o.name.toLowerCase().includes(a.toLowerCase())||o.description.toLowerCase().includes(a.toLowerCase())||o.selector.toLowerCase().includes(a.toLowerCase())||o.type.toLowerCase().includes(a.toLowerCase())||o.rawdescription.toLowerCase().includes(a.toLowerCase())).map(o=>o.name)).reduce((a,o)=>[...a,...o.filter(C=>!a.length||!a.includes(C))],[])}searchPipes(u,l){return l.split(" ").map(a=>u.filter(o=>o.name.toLowerCase().includes(a.toLowerCase())||o.description.toLowerCase().includes(a.toLowerCase())||o.type.toLowerCase().includes(a.toLowerCase())||o.rawdescription.toLowerCase().includes(a.toLowerCase())).map(o=>o.name)).reduce((a,o)=>[...a,...o.filter(C=>!a.length||!a.includes(C))],[])}searchServices(u,l){return l.split(" ").map(a=>u.filter(o=>o.name.toLowerCase().includes(a.toLowerCase())||o.description.toLowerCase().includes(a.toLowerCase())||o.type.toLowerCase().includes(a.toLowerCase())||o.rawdescription.toLowerCase().includes(a.toLowerCase())).map(o=>o.name)).reduce((a,o)=>[...a,...o.filter(C=>!a.length||!a.includes(C))],[])}static#t=this.\u0275fac=function(l){return new(l||f)(g.LFG(L.eN))};static#e=this.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},4495:(_,p,e)=>{e.d(p,{Q:()=>x});var h=e(8645),m=e(5879);let x=(()=>{class g{constructor(){this._unsubscribeAllSubject=new h.x}ngOnDestroy(){this._unsubscribeAllSubject.next(void 0),this._unsubscribeAllSubject.complete()}static#t=this.\u0275fac=function(S){return new(S||g)};static#e=this.\u0275dir=m.lG2({type:g})}return g})()}}]);